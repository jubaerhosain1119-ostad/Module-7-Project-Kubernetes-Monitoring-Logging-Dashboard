# Default values for kubernetes-monitoring
# This is a YAML-formatted file.

# Global settings
global:
  storageClass: "standard"

# Namespaces
namespaces:
  monitoring: "monitoring"
  logging: "logging"
  application: "application"

# Prometheus configuration
prometheus:
  enabled: true
  image:
    repository: prom/prometheus
    tag: "v2.48.0"
    pullPolicy: IfNotPresent
  
  service:
    type: ClusterIP
    port: 9090
  
  persistence:
    enabled: true
    size: 10Gi
    storageClass: null  # Uses global.storageClass if null
  
  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 2Gi
  
  retention:
    time: "15d"
  
  scrapeInterval: "15s"
  evaluationInterval: "15s"

# Grafana configuration
grafana:
  enabled: true
  image:
    repository: grafana/grafana
    tag: "10.2.2"
    pullPolicy: IfNotPresent
  
  admin:
    user: "admin"
    password: "admin"  # ⚠️ CHANGE THIS IN PRODUCTION
  
  service:
    type: NodePort
    port: 3000
    nodePort: 30000  # Set to null for auto-assignment
  
  persistence:
    enabled: true
    size: 5Gi
    storageClass: null  # Uses global.storageClass if null
  
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  
  dashboards:
    enabled: true
    # Dashboard JSON files are loaded from dashboards/ directory

# Loki configuration
loki:
  enabled: true
  image:
    repository: grafana/loki
    tag: "2.9.2"
    pullPolicy: IfNotPresent
  
  service:
    type: ClusterIP
    port: 3100
    grpcPort: 9096
  
  persistence:
    enabled: true
    size: 10Gi
    storageClass: null  # Uses global.storageClass if null
  
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  
  retention:
    period: "720h"  # 30 days
    deleteDelay: "2h"

# Promtail configuration
promtail:
  enabled: true
  image:
    repository: grafana/promtail
    tag: "2.9.2"
    pullPolicy: IfNotPresent
  
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

# Nginx sample application
nginx:
  enabled: true
  image:
    repository: nginx
    tag: "1.25"
    pullPolicy: IfNotPresent
  
  replicas: 3
  
  service:
    type: ClusterIP
    port: 80
  
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
